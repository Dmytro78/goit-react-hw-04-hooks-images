{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/cardApi.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searcbar","state","searchbar","submit","e","preventDefault","props","reset","inputChange","currentTarget","name","value","setState","className","css","Searchbar","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","modalOpen","onClick","src","alt","ImageGalleryItemImage","Button","Modal","cleanEventListener","code","window","addEventListener","removeEventListener","Overlay","api","fatchImage","searchName","pages","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","status","loadMore","page","imageApi","images","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","moduleUrl","moduleAlt","modalClose","prevProps","prevSearch","nextSearch","total","color","height","width","map","image","id","App","onFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.81f399e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1sLww\",\"Modal\":\"Modal_Modal__ipfKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__36s4b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__78C1N\"};","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport css from './Searchbar.module.css';\r\n\r\nclass Searcbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n  state = {\r\n    searchbar: \"\",\r\n  };\r\n  submit = (e) => {\r\n    e.preventDefault();\r\n    this.props.submit(this.state.searchbar);\r\n    this.reset();\r\n  };\r\n  inputChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchbar: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={css.Searchbar}>\r\n        <form onSubmit={this.submit} className={css.SearchForm}>\r\n          <button type=\"submit\" className={css.SearchFormButton}>\r\n            <span className={css.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={css.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"searchbar\"\r\n            value={this.state.searchbar}\r\n            onChange={this.inputChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searcbar;","import PropTypes from \"prop-types\";\r\nimport css from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, modalOpen }) => {\r\n  return (\r\n    <li\r\n      className={css.ImageGalleryItem}\r\n      onClick={() => {\r\n        modalOpen(largeImageURL, tags);\r\n      }}\r\n    >\r\n      <img src={webformatURL} alt={tags} className={css.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  modalOpen: PropTypes.func,\r\n  tags: PropTypes.string,\r\n};","import PropTypes from \"prop-types\";\r\nimport css from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={css.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport css from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.cleanEventListener);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.cleanEventListener);\r\n  }\r\n\r\n  cleanEventListener = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n  render() {\r\n    const { onClick, largeImageURL, alt } = this.props;\r\n    return (\r\n      <div className={css.Overlay} onClick={onClick}>\r\n        <div className={css.Modal}>\r\n          <img src={largeImageURL} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n};","function fatchImage(searchName, pages) {\r\n  const key = '22640330-7a3d8d7b0f506b04b575708a2';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchName}&page=${pages}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`no images on request`));\r\n  });\r\n}\r\nconst api = { fatchImage };\r\n\r\nexport default api;","import css from './ImageGallery.module.css';\r\nimport React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.js\";\r\nimport Button from \"../Button/Button\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport imageApi from \"../cardApi\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    status: \"idle\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const prevSearch = prevProps.searchbar;\r\n    const nextSearch = this.props.searchbar;\r\n    const page = 1;\r\n    if (prevSearch !== nextSearch) {\r\n      this.setState({ status: \"pending\", page: 1 });\r\n\r\n      imageApi\r\n        .fatchImage(nextSearch, page)\r\n        .then((images) => {\r\n          if (images.total === 0) {\r\n            this.setState({ error: \"No any picture\", status: \"rejected\" });\r\n          } else {\r\n            this.setState({\r\n              images: images.hits,\r\n              status: \"resolved\",\r\n              page: 1,\r\n              searchbar: nextSearch,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n    }\r\n  }\r\n  loadMore = () => {\r\n    const page = this.state.page + 1;\r\n\r\n    imageApi\r\n      .fatchImage(this.state.searchbar, page)\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images.hits],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => this.setState({ error }));\r\n  };\r\n  modalOpen = (moduleUrl, moduleAlt) => {\r\n    this.setState({\r\n      largeImageURL: moduleUrl,\r\n      alt: moduleAlt,\r\n    });\r\n  };\r\n  modalClose = () => {\r\n    this.setState({ largeImageURL: \"\", alt: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { images, status } = this.state;\r\n    if (status === \"idle\") {\r\n      return <p></p>;\r\n    }\r\n      if (status === \"pending\") {\r\n          return (\r\n        <Loader\r\n          type=\"Bars\"\r\n          color=\"#00BFFF\"\r\n          height={80}\r\n          width={80}      \r\n        />\r\n      );\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <ul className={css.ImageGallery}>\r\n          {images.map((image) => {\r\n            return (\r\n              <ImageGalleryItem\r\n                key={image.id}\r\n                tags={image.tags}\r\n                webformatURL={image.webformatURL}\r\n                largeImageURL={image.largeImageURL}\r\n                modalOpen={this.modalOpen}\r\n              />\r\n            );\r\n          })}\r\n          <Button onClick={this.loadMore} />\r\n          {this.state.largeImageURL && (\r\n            <Modal\r\n              largeImageURL={this.state.largeImageURL}\r\n              alt={this.state.alt}\r\n              onClick={this.modalClose}\r\n            />\r\n          )}\r\n        </ul>\r\n      );\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <p>{this.state.error}</p>;\r\n    }\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\n\nimport Searcbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    searchbar: \"\",\n  };\n  onFormSubmit = (searchName) => {\n    if (searchName) {\n      this.setState({ searchbar: searchName });\n    }\n    return;\n  };\n\n  render() {\n    const { searchbar } = this.state;\n    return (\n      <div className=\"App\">\n        <Searcbar submit={this.onFormSubmit} />\n        <ImageGallery searchbar={searchbar} />\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Y2Pk\",\"SearchForm\":\"Searchbar_SearchForm__1oL23\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3hwz5\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3Qtql\",\"SearchFormInput\":\"Searchbar_SearchFormInput__PHh0U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__sep3T\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3vFyX\"};"],"sourceRoot":""}